<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Infra</title>
		<link rel="stylesheet" href="../style/index.css">
		<script src="https://kit.fontawesome.com/74fed0e2b5.js" crossorigin="anonymous"></script>
		<script defer src="../js/go-to-top.js"></script>
	</head>
	<body>
		<div id="page">
			<h1 id="summary-title">Sommaire</h1>
			<ol id="summary-list">
				<li class="summary-title">
					<a href="#scope">Cadre du projet</a>
					
					<ol class="summary-sublist">
						<li class="summary-subtitle"><a href="#scope">Présentation du projet</a></li>
						<li class="summary-subtitle"><a href="#scope">Contexte du projet</a></li>
						<li class="summary-subtitle"><a href="#scope">Contraintes du projet</a></li>
					</ol>
				</li>
				
				<li class="summary-title">
					<a href="#machines">Machines</a>
					
					<ol class="summary-sublist">
						<li class="summary-subtitle"><a href="#machines-create">Création</a></li>
						<li class="summary-subtitle"><a href="#machines-network">Configuration du réseau</a></li>
					</ol>
				</li>
				
				<li class="summary-title">
					<a href="#plan"> Plan d'adressage</a>
					
					<ol class="summary-sublist">
						<li class="summary-subtitle"><a href="#plan-config">Configuration</a></li>
						<li class="summary-subtitle"><a href="#plan-adresses">Adresses</a></li>
					</ol>
				</li>
				<li class="summary-title">
					<a href="#pfsence">PFSence</a>
					
					<ol class="summary-sublist">
						<li class="summary-subtitle"><a href="#pfsence-install">Installation</a></li>
						<li class="summary-subtitle"><a href="#pfsence-config">Configuration</a></li>
						<li class="summary-subtitle"><a href="#pfsence-network">Configuration du réseau</a></li>
					</ol>
				</li>
				<li class="summary-title">
					<a href="#backup">Backup</a>
					
					<ol class="summary-sublist">
						<li class="summary-subtitle"><a href="#backup-install">Installation de RSync</a></li>
						<li class="summary-subtitle"><a href="#backup-config">Configuration</a></li>
						<li class="summary-subtitle"><a href="#backup-config-site">Configuration du site</a></li>
						<li class="summary-subtitle"><a href="#backup-auto">Automatisation</a></li>
					</ol>
				</li>
				<li class="summary-title">
					<a href="#nginx">Nginx</a>
					
					<ol class="summary-sublist">
						<li class="summary-subtitle"><a href="#nginx-install">Installation</a></li>
						<li class="summary-subtitle"><a href="#nginx-config">Configuration</a></li>
						<li class="summary-subtitle"><a href="#nginx-deploy">Déploiement</a></li>
					</ol>
				</li>
				
				<li class="summary-title">
					<a href="#deploy">Déploiement</a>
					
					<ol class="summary-sublist">
						<li class="summary-subtitle"><a href="#deploy-config-vms">Configuration machines</a></li>
						<li class="summary-subtitle"><a href="#deploy-rules">Règles PFSence</a></li>
					</ol>
				</li>
				
				<li class="summary-title">
					<a href="#orga">Organisation</a>
					
					<ol class="summary-sublist">
					</ol>
			</ol>
			
			<hr>
			
			<div id="content">
				<h2 id="machines">Machines</h2>
				<div class="section">
					<h3 id="machines-create">Création</h3>
					
					<div class="group">
						Les machines sont créées sur VMWare à la main.<br>
						<br>
						<strong>Exemple <i>(création du client linux)</i> :</strong><br>
						<br>
						
						<figure>
							<img src="../resources/creation-linux-1.png" alt="creation-linux-1" loading="lazy">
							<figcaption>
								Création d'une nouvelle machine via l'utilitaire VMWare.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/creation-linux-2.png" alt="creation-linux-2" loading="lazy">
							<figcaption>
								Création de la machine virtuelle étape 2.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/creation-linux-3.png" alt="creation-linux-3" loading="lazy">
							<figcaption>
								Définition de l'ISO à utiliser.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/creation-linux-4.png" alt="creation-linux-4" loading="lazy">
							<figcaption>
								Définition du nom de la machine et de l'utilisateur root.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/creation-linux-5.png" alt="creation-linux-6" loading="lazy">
							<figcaption>
								Définition de la location de la machine virtuelle.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/creation-linux-6.png" alt="creation-linux-7" loading="lazy">
							<figcaption>
								Définition de la taille du disque dur.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/creation-linux-7.png" alt="creation-linux-8" loading="lazy">
							<figcaption>
								La machine est désormais prête à utiliser.
							</figcaption>
						</figure>
					</div>
					
					<h3 id="machines-network">Configuration du réseau</h3>
					<div class="group">
						Le réseau est configuré via le gestionnaire de configuration de la machine virtuelle.<br>
						Le mode <code>HOST-ONLY</code> est requis pour que les machines puissent communiquer entre elles.<br>
						<br>
						<strong>Exemple <i>(configuration du serveur linux)</i> :</strong><br>
						<br>
						
						<figure>
							<img src="../resources/network-1.png" alt="network-1" loading="lazy">
							<figcaption>
								Le serveur Ubuntu doit être mis en mode <code>HOST-ONLY</code>.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/network-2.png" alt="network-2" loading="lazy">
							<figcaption>
								Configuration de ce mode dans le gestionnaire de configuration de la machine virtuelle.
							</figcaption>
						</figure>
						
						<div class="note">
							<strong>Note :</strong><br>
							Le PFSence doit être configuré en mode <code>NAT</code> du côté du LAN.
						</div>
					</div>
				</div>
				
				<h2 id="plan">Plan d'adressage</h2>
				<div class="section">
					<h3 id="plan-config">Configuration</h3>
					<div class="group">
						<p>
							La configuration du plan d'adressage est faite de différentes façons.<br>
							<br>
							Dans les machines Linux, il est possible de configurer une adresse IP statique dans les paramètres. <br>
						</p>
						<figure>
							<img src="../resources/config-ip-linux-1.png" alt="configuration de l'ip du serveur linux" loading="lazy">
							<figcaption>
								Configuration de l'adresse IP statique dans les paramètres de la machine.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/config-ip-linux-2.png" alt="configuration de l'ip du serveur linux" loading="lazy">
							<figcaption>
								Les changements sont bien pris en compte.
							</figcaption>
						</figure>
						
						<p>
							Dans les machines Windows, il est possible de configurer une adresse IP statique dans les paramètres. <br>
						</p>
						<figure>
							<img src="../resources/config-ip-windows-1.png" alt="configuration de l'ip du serveur windows" loading="lazy">
							<figcaption>
								Paramètres de windows.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/config-ip-windows-2.png" alt="configuration de l'ip du serveur windows" loading="lazy">
							<figcaption>
								Paramètres de réseau avancés.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/config-ip-windows-3.png" alt="configuration de l'ip du serveur windows" loading="lazy">
							<figcaption>
								Modification du réseau Ethernet (LAN).
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/config-ip-windows-4.png" alt="configuration de l'ip du serveur windows" loading="lazy">
							<figcaption>
								Modification du protocole IPv4.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/config-ip-windows-5.png" alt="configuration de l'ip du serveur windows" loading="lazy">
							<figcaption>
								Mise en place de l'adresse IP statique.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/config-ip-windows-6.png" alt="configuration de l'ip du serveur windows" loading="lazy">
							<figcaption>
								Pour pouvoir ping le client windows, il faut activer le partage de fichiers et d'adresses ip dans les règles de sécurité.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/config-ip-windows-7.png" alt="configuration de l'ip du serveur windows" loading="lazy">
							<figcaption>
								Les changements sont bien pris en compte.
							</figcaption>
						</figure>
					
					</div>
					
					<h3 id="plan-adresses">Adresses</h3>
					<div class="group">
						<img src="https://media.discordapp.net/attachments/931254585656483880/970346324090314852/unknown.png?width=925&height=668"
						     alt="plan d'adressage"
						     loading="lazy"
						>
						
						<h3 id="plan-table-ip">Tableau </h3>
						
						<table class="ip-table">
							<tbody>
								<tr class="ip-line">
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Nom</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Adresse Ip</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">CIDR</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Default Gateway</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">VLAN</span></p></td>
								</tr>
								<tr class="ip-line">
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Client Linux</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.3</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">/29</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.6</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6 c8"><span class="c0"></span></p></td>
								</tr>
								<tr class="ip-line">
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Client Windows</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.4</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">/29</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.6</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6 c8"><span class="c0"></span></p></td>
								</tr>
								<tr class="ip-line">
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Backup</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.2</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">/29</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.6</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6 c8"><span class="c0"></span></p></td>
								</tr>
								<tr class="ip-line">
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Serveur Web</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.1</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">/29</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.6</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6 c8"><span class="c0"></span></p></td>
								</tr>
								<tr class="ip-line">
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Pare Feu Lan</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">10.0.0.6</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">/29</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6 c8"><span class="c0"></span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6 c8"><span class="c0"></span></p></td>
								</tr>
								<tr class="ip-line">
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">Pare Feu Wan</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">192.168.0.10</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6"><span class="c0">/29</span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6 c8"><span class="c0"></span></p></td>
									<td class="ip-value" colspan="1" rowspan="1"><p class="c6 c8"><span class="c0"></span></p></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<h2 id="pfsence">PFSence</h2>
				<div class="section">
					<h3 id="pfsence-install">Installation</h3>
					<div class="group">
						<p>
							PFSence est un outil de surveillance de la sécurité du réseau. Il permet de surveiller les connexions et les déconnexions des
							utilisateurs.<br>
							Pour l'installer, il suffit de télécharger un ISO sur le site de la communauté de PFSence, puis de l'installer sur le serveur :<br>
							<br>
						</p>
						
						<figure>
							<img src="../resources/pfsence-install-1.png" alt="Installation pfsence 1">
							<figcaption>
								Création d'une machine virtuelle avec l'ISO de PFSence.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-install-2.png" alt="Installation pfsence 2">
							<figcaption>
								L'installation ne requiert pas d'autres étapes, une fois lancée PFSence est
							</figcaption>
						</figure>
					</div>
					
					<h3 id="pfsence-config">Configuration</h3>
					<div class="group">
						<p>
							Une fois PFSence installé, il faut le configurer.
						</p>
						
						<figure>
							<img src="../resources/pfsence-config-1.png" alt="Configuration pfsence 1">
							<figcaption>
								Une fois le copyright accepté, un menu d'installation est disponible.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-2.png" alt="Configuration pfsence 2">
							<figcaption>
								PFSence demande de choisir un clavier et un groupe de raccourcis à utiliser, nous utilisons celui de base.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-3.png" alt="Configuration pfsence 3">
							<figcaption>
								Configuration des partitions du disque dur.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-4.png" alt="Configuration pfsence 4">
							<figcaption>
								Validation de la configuration à installer.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-5.png" alt="Configuration pfsence 5">
							<figcaption>
								PFSence demande de choisir un type d'utilisation de disque dur à plusieurs partitions, nous utilisons le type de disque dur par
								défaut.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-6.png" alt="Configuration pfsence 6">
							<figcaption>
								Validation de la configuration du disque dur.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-7.png" alt="Configuration pfsence 7">
							<figcaption>
								La machine demande de formater les partitions, il faut appuyer sur <code>*</code> pour les sélectionner toutes.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-8.png" alt="Configuration pfsence 8">
							<figcaption>
								PFSence s'installe après le formatage des partitions.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-9.png" alt="Configuration pfsence 9">
							<figcaption>
								Une fois l'installation terminée, PFSence nous propose d'ouvrir un terminal pour finaliser notre installation.<br>
								Le projet n'a pas besoin d'autre configuration.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-config-10.png" alt="Configuration pfsence 10">
							<figcaption>
								PFSence est maintenant configuré et avertis qu'il va redémarrer.
							</figcaption>
						</figure>
					</div>
					
					<h3 id="pfsence-network">Configuration du réseau</h3>
					<div class="group">
						<figure>
							<img src="../resources/pfsence-network-1.png" alt="Configuration du réseau pfsence 1">
							<figcaption>
								PFSence demande de configurer l'adresse IP statique.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/pfsence-network-2.png" alt="Configuration du réseau pfsence 2">
							<figcaption>
								Une fois fait, PFSence créé un site local via son adresse IP pour pouvoir configurer des règles.<br>
								Il faut se connecter au site pour pouvoir configurer les règles.
							</figcaption>
						</figure>
						<div class="note">
							<p>
								<strong>Note :</strong><br>
								Le pare-feu va bloquer le rafraîchissement de notre page donc taper la commande <code>pfctl -d</code> dans le terminal du
								PfSense, qui va
								désactiver le pare-feu pour nous permettre d’affecter nos changements.
							
							</p>
							<img src="../resources/pfsence-network-3.png" alt="Configuration du réseau pfsence 3">
						</div>
						
						<h4>Les règles PFSence :</h4>
						<figure>
							<img src="../resources/pfsence-network-4.png" alt="Configuration du réseau pfsence 4">
							<figcaption>
								Nous pouvons maintenant ajouter une règle de PFSence.
							</figcaption>
						</figure>
						
						<p>Définition de la règle pour ouvrir le port 80.</p>
						<img src="../resources/pfsence-network-5.png" alt="Configuration du réseau pfsence 5">
						<img src="../resources/pfsence-network-6.png" alt="Configuration du réseau pfsence 5">
						<img src="../resources/pfsence-network-7.png" alt="Configuration du réseau pfsence 5">
						
						<p>
							Une fois la règle créée, nous pouvons tester si elle est bien active.
						</p>
						
						<figure>
							<img src="../resources/pfsence-network-8.png" alt="Configuration du réseau pfsence 8">
							<figcaption>
								Le ping fonctionne, la règle est bien active.
							</figcaption>
						</figure>
					
					</div>
				</div>
				
				<h2 id="backup">Backup</h2>
				<div class="section">
					<h3 id="backup-install">Installation</h3>
					<div class="group">
						<p>
							Pour mettre en place la backup, utilisation de <code><a href="https://doc.ubuntu-fr.org/rsync">rsync</a></code>.<br>
							<dfn>Remote synchronization ou synchronisation à distance,</dfn>c’est un logiciel de synchronisation de fichiers.<br>
							Il est fréquemment utilisé pour mettre en place des systèmes de sauvegarde distante ou des points de restauration du système (via
							l'interface Timeshift)<br>
							Pour ce faire, il faut deux serveurs (ici le serveur web et la backup).
						</p>
						
						<figure>
							<img src="../resources/backup-install-1.png" alt="Installation backup 1">
							<figcaption>
								Installation de rsync.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/backup-install-2.png" alt="Installation backup 2">
							<img src="../resources/backup-install-3.png" alt="Installation backup 2">
							<figcaption>
								Activation et lancement de rsync.
							</figcaption>
						</figure>
					</div>
					
					<h3 id="backup-config">Configuration</h3>
					<div class="group">
						<p>
							La configuration de la backup sur le serveur backup est assez simple.<br>
							Elle consiste en un fichier de configuration <code>/etc/rsyncd.conf</code> qui contient les informations sur le serveur distant et
							le chemin de sauvegarde.
						</p>
						<figure>
							<img src="../resources/backup-install-4.png" alt="Installation backup 4">
							<img src="../resources/backup-install-5.png" alt="Installation backup 5">
							<figcaption>
								Configuration de rsync.<br>
								<br>
								<code>path=/home/backuo/backup</code> : Donne le chemin de destination des fichiers (lieu de stockage dans le backup).<br>
								<code>hosts allow = 10.0.0.1</code> : IP du serveur qui envoie les informations. Le partage des informations se faisant dans un
								réseau local, on y met donc une IP locale.<br>
								<code>hosts deny = *</code> : Empêche l’envoi de fichiers venant de n’importe qui pour sécuriser.<br>
								<code>list = true</code> :<br> Permet de donner au client l’ensemble des fichiers du répertoire de destination.<br>
								<code>uid = root, gid = root</code> : Permet de lancer le daemon en tant que root.<br>
								<code>read only = false</code> : Gestion des permissions (groupes et users).<br>
								<br>
								<code>sudo systemctl restart rsync</code> : Relancer le logiciel en validant la configuration.<br>
							</figcaption>
						</figure>
					</div>
					
					<h3 id="backup-config-site">Test</h3>
					<div class="group">
						<p>
							Sur le serveur web il faut maintenant installer <code>rsync</code> et configurer un site.<br>
							Les sites sont installés dans <code>/var/www/html</code>.<br>
							Un script est utilisé pour lancer la sauvegarde de tous les sites.<br>
						</p>
						
						<figure>
							<img src="../resources/backup-config-1.png" alt="Installation backup 6">
							<figcaption>
								Création du script de sauvegarde <code>/var/www/html/<strong>Infra-Website</strong>/rsync</code>
							</figcaption>
						</figure>
						
						<div class="note">
							<strong>Note :</strong><br>
							Le site web est nommé <strong>Infra-Website</strong>.
						</div>
						
						<figure>
							<img src="../resources/backup-config-2.png" alt="Installation backup 7">
							<figcaption>
								Le script consiste en une commande :
								<pre><code>rsync -avz /var/www/html/Infra-Website/ 10.0.0.2::backup</code></pre>
								<br>
								<code>/var/www/html/Infra-Website/</code> represente le fichier depuis lequel on veut “extraire” des donnes et
								<code>10.0.0.2</code> l’IP vers laquelle
								elles seront envoyées.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/backup-config-3.png" alt="Installation backup 8">
							<figcaption>
								Ne pas oublier de donner les droits d’exécution du script.
							</figcaption>
						</figure>
					</div>
					
					<h3 id="backup-auto">Automatisation</h3>
					<div class="group">
						<p>
							Le script de backup va être lancé tous les jours grâce à un <code>crontab</code>.<br>
						<p>
						
						<figure>
							<img src="../resources/backup-auto-1.png" alt="Installation backup 9">
							<img src="../resources/backup-auto-2.png" alt="Installation backup 9">
							<figcaption>
								Création du crontab.<br>
								<br>
								<code>sudo crontab -e</code> : Ouvre le crontab.<br>
								<code>* * * * * /var/www/html/Infra-Website/rsync</code> : L’heure, le jour, le mois, le jour de la semaine, le répertoire et le
								script à exécuter.<br>
								Ici configuré sur toutes les minutes pour les tests.<br>
								<br>
							</figcaption>
						</figure>
						
						<p>
							Après l'exécution du script de backup une fois, nous pouvons voir les fichiers de backup.
						</p>
						
						<figure>
							<img src="../resources/backup-auto-3.png" alt="Installation backup 10">
							<figcaption>
								Le serveur linux.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/backup-auto-4.png" alt="Installation backup 11">
							<figcaption>
								Le serveur de backup, contenant bien les fichiers.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/backup-auto-5.png" alt="Installation backup 12">
							<figcaption>
								Les logs de <code>cron</code> indiquent bien que le script a été exécuté.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/backup-auto-6.png" alt="Installation backup 13">
							<figcaption>
								Ne pas oublier de changer le cron pour s'exécuter qu'une fois par jour.
							</figcaption>
						</figure>
					</div>
				</div>
				
				<h2 id="nginx">Nginx</h2>
				<div class="section">
					<h3 id="nginx-install">Installation</h3>
					<div class="group">
						<p>
							Nginx est un logiciel permettant de gérer les requêtes HTTP/HTTPS et de publier des pages web.<br>
							Il est installé avec le paquet <code>nginx</code>.
						</p>
					</div>
					
					<h3 id="nginx-config">Configuration</h3>
					<div class="group">
						<p>
							La configuration de Nginx est faite dans le fichier <code>/etc/nginx/nginx.conf</code>.<br>
							<br>
							Un fichier de configuration <code>/etc/nginx/sites-available/</code> est créé pour chaque site web.<br>
							Un fichier de configuration <code>/etc/nginx/sites-enabled/</code> est créé pour chaque site web qui doit être publié sur le
							LAN.<br>
							<br>
							Il existe par défaut un fichier de configuration <code>/etc/nginx/sites-available/default</code> qui est utilisé par notre projet.
						</p>
					</div>
					
					<h3 id="nginx-deploy">Déploiement</h3>
					<div class="group">
						<p>
							À compléter.
						</p>
					</div>
				</div>
				
				<h2 id="deploy">Déploiement</h2>
				<div class="section">
					<h3 id="deploy-config-vms">Configuration des machines virtuelles</h3>
					
					<div class="group">
						<p>
							Pour pouvoir accéder au site depuis le LAN, il faut configurer les machines virtuelles.<br>
							Il faut aussi avoir un appareil disponible sur le réseau, nous allons utiliser un téléphone portable connecté à internet faisant un partage de connexion et se connecter à ce réseau.<br>
						</p>
						
						<figure>
							<img src="../resources/deploy-config-1.png" alt="Configuration deploy 1">
							<figcaption>
								Le PFSence doit être mis en mode <code>Bridged</code>.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/deploy-config-2.png" alt="Configuration deploy 2">
							<figcaption>
								Connexion du PFSence au partage de connexion.
							</figcaption>
						</figure>
					</div>
					
					<h3 id="deploy-rules">Configuration de règles pour PFSence</h3>
					<div class="group">
						<p>
							Le PFSence doit avoir une nouvelle règle pour pouvoir autoriser les connexions entrantes à se connecter en mode <code>bridged</code>.<br>
						</p>
						
						<figure>
							<img src="../resources/deploy-rules-1.png" alt="Configuration deploy 3">
							<img src="../resources/deploy-rules-2.png" alt="Configuration deploy 3">
							<img src="../resources/deploy-rules-3.png" alt="Configuration deploy 3">
							<figcaption>
								Création de la règle PFSence.
							</figcaption>
						</figure>
						
						<figure>
							<img src="../resources/deploy-rules-4.png" alt="Configuration deploy 4">
							<figcaption>
								Le site peut maintenant être accessible depuis le LAN.
							</figcaption>
						</figure>
						
					</div>
				</div>
			</div>
			
			<div id="go-to-top" class="hide">
				<i class="fa fa-arrow-up"></i>
			</div>
		</div>
	</body>
</html>
